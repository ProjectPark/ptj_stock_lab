# PTJ 매매법 — 백테스트 엔진 최적화 + V1/V2/V3 종합 리포트

> 실행일: 2026-02-18 | 대상: `backtest.py` (V1), `backtest_v2.py` (V2), `backtest_v3.py` (V3)

---

## 1. 최적화 배경

### 1-1. 문제 정의

기존 백테스트 엔진은 **매 1분(또는 5분) 봉마다 DataFrame 필터링 + `iterrows()`** 를 수행하는 구조였다.

```python
# 기존 코드 (병목 지점)
for ts in all_timestamps:
    bar_data = df[(df["date"] == trading_date) & (df["timestamp"] == ts)]  # O(n) 필터링
    for _, row in bar_data.iterrows():          # Python-level 행 순회
        cur_prices[row["symbol"]] = row["close"]
```

| 데이터셋 | 행 수 | 거래일 | 봉/일 | 기존 예상 시간 |
|---|---|---|---|---|
| V1 (5분봉) | 306,105 | 250 | ~78 | ~10초 |
| V2 (1분봉) | 1,491,631 | 240 | ~390 | ~120초+ |
| V3 (1분봉) | 1,491,631 | 240 | ~390 | ~120초+ |

**핵심 병목**: 봉 단위 DataFrame 필터링은 `O(전체 행 수)`이므로, 250일 × 390봉 = 97,500번의 `O(1.5M)` 연산이 발생.

### 1-2. 최적화 전략 선정

| 후보 | 장점 | 단점 | 채택 |
|---|---|---|---|
| **DataFrame → dict 사전 인덱싱** | 1회 변환 후 O(1) lookup | 메모리 추가 사용 | **채택** |
| GPU (CUDA/cuDF) | 대규모 병렬 연산 | 순차적 포지션 관리 불가 | 불채택 |
| Numba JIT | 수치 연산 가속 | dict/class 사용 제한 | 부분 채택 (설치만) |
| numpy 벡터화 | 고속 수치 연산 | 매매 결정이 보유 상태 의존 → 순차적 | 불채택 |

**불채택 사유 상세**:
- GPU/numpy: 매매 결정은 현재 보유 포지션(Position 객체)에 의존하므로 벡터화 불가. `_process_sells()` → `_process_buys()` → 포지션 갱신이 순차적으로 연결됨.
- Numba JIT: `numba 0.63.1 + llvmlite 0.46.0` 설치 완료. 수치 계산 함수에 `@njit` 적용 가능하나, 현재 병목이 DataFrame 접근이므로 사전 인덱싱만으로 충분한 성능 달성.

---

## 2. 최적화 구현 상세

### 2-1. 핵심 함수: `preindex_dataframe()` (`backtest_common.py` 244~305행)

```python
def preindex_dataframe(df: pd.DataFrame) -> tuple[dict, dict, dict]:
    """DataFrame을 3개의 nested dict로 변환 (1회성, O(n))"""
    ts_prices: dict = {}     # {date: {timestamp: {symbol: close}}}
    sym_bars: dict = {}      # {date: {symbol: [bar_dicts sorted by ts]}}

    for row in df.itertuples(index=False):    # iterrows 대비 10~100x 빠름
        d, ts, sym = row.date, row.timestamp, row.symbol
        # ... nested dict 구축 ...

    day_timestamps = {d: sorted(ts_prices[d].keys()) for d in ts_prices}
    return ts_prices, sym_bars, day_timestamps
```

**반환 구조**:

```
ts_prices[date][timestamp][symbol] = close_price
     │       │         │         └── float: 종가
     │       │         └── str: 티커 (예: "BITU")
     │       └── Timestamp: 봉 시각
     └── date: 거래일

sym_bars[date][symbol] = [
    {"timestamp": ts, "open": o, "high": h, "low": l, "close": c, "volume": v},
    ...  # sorted by timestamp
]

day_timestamps[date] = [ts1, ts2, ..., tsN]  # sorted
```

### 2-2. 파일별 변경 내역

#### `backtest_common.py` — 공통 라이브러리

| 변경 | 내용 |
|---|---|
| 신규 함수 | `preindex_dataframe()` 추가 (62행) |
| 위치 | `_extract_yes_no_prob()` 이후, 수수료 섹션 이전 |
| 의존성 | 없음 (기존 함수와 독립) |

#### `backtest.py` (V1) — 5분봉 엔진

| # | 변경 지점 | Before | After |
|---|---|---|---|
| 1 | import | — | `import backtest_common` 추가 |
| 2 | 데이터 로드 후 | `df["date"].unique()` | `preindex_dataframe(df)` 호출 |
| 3 | warmup | `df[df["date"] == d]` per day | `sym_bars[d].items()` dict lookup |
| 4 | `_check_gold_30min()` | `day_data: pd.DataFrame` | `sym_bars_day: dict[str, list[dict]]` |
| 5 | day loop | `df[df["date"] == td]` 필터링 | `sym_bars[td]`, `day_timestamps[td]` |
| 6 | bar loop | `day_data[ts == ts]` + `iterrows()` | `ts_prices[td].get(ts, {})` |
| 7 | EOD | `_last_prices(day_data)` groupby | `{sym: bars[-1]["close"] ...}` |

#### `backtest_v2.py` (V2) — 1분봉 엔진

| # | 변경 지점 | Before | After |
|---|---|---|---|
| 1 | 데이터 로드 후 | `sorted(df["date"].unique())` | `sorted(day_timestamps.keys())` |
| 2 | warmup | DataFrame per-day 필터 | `sym_bars[d].items()` dict lookup |
| 3 | `_select_coin_follow()` | `day_data: pd.DataFrame` 인자 | `sym_bars_day: dict, trading_date` 인자 |
| 4 | `_handle_carry_positions()` | `day_data: pd.DataFrame` 인자 | `sym_bars_day: dict, day_ts: list` 인자 |
| 5 | day loop | `df[df["date"] == td].sort_values()` | `sym_bars[td]`, `day_timestamps[td]` |
| 6 | bar loop | `day_data[ts == ts]` + `iterrows()` | `ts_prices[td].get(ts, {})` |
| 7 | EOD | `_get_last_prices(day_data)` groupby | `{sym: bars[-1]["close"] ...}` |

#### `backtest_v3.py` (V3) — 1분봉 선별 매매 엔진

| # | 변경 지점 | Before | After |
|---|---|---|---|
| 1 | 데이터 로드 후 | `sorted(df["date"].unique())` | `sorted(day_timestamps.keys())` |
| 2 | warmup | DataFrame per-day/per-ticker 필터 | `sym_bars[d].items()` dict lookup |
| 3 | `_select_coin_follow()` | `day_data: pd.DataFrame` 인자 | `sym_bars_day: dict, trading_date` 인자 |
| 4 | `_handle_carry_positions()` | `day_data: pd.DataFrame` 인자 | `sym_bars_day: dict, day_ts: list` 인자 |
| 5 | day loop | `df[df["date"] == td].sort_values()` | `sym_bars[td]`, `day_timestamps[td]` |
| 6 | bar loop | `day_data[ts == ts]` + `iterrows()` | `ts_prices[td].get(ts, {})` |
| 7 | EOD | `_get_last_prices(day_data)` groupby | `{sym: bars[-1]["close"] ...}` |
| 8 | first_ts | `day_data["timestamp"].min()` | `day_ts[0]` |
| 9 | last_ts | `day_data["timestamp"].max()` | `day_ts[-1]` |

### 2-3. 코드 검증 결과

3개 서브에이전트가 병렬로 검증을 수행했다.

| 검증 항목 | V1 | V2 | V3 |
|---|---|---|---|
| `preindex_dataframe()` 구조 | PASS | PASS | PASS |
| warmup `prev_close` 초기화 | PASS | PASS | PASS |
| day loop dict 접근 | PASS | PASS | PASS |
| bar loop O(1) lookup | PASS | PASS | PASS |
| EOD last_prices 정합성 | PASS | PASS | PASS |
| 경계값 방어 (빈 리스트, 누락 키) | PASS | PASS | PASS |
| `_select_coin_follow()` 리팩터 | — | PASS | PASS |
| `_handle_carry_positions()` 리팩터 | — | PASS | PASS |
| `_check_gold_30min()` 리팩터 | PASS | — | — |
| 미사용 레거시 메서드 | `_last_prices()` 잔존 | `_get_last_prices()` 잔존 | `_get_last_prices()` 잔존 |
| **결론** | **논리적 오류 없음** | **논리적 오류 없음** | **논리적 오류 없음** |

---

## 3. 성능 결과

### 3-1. 실행 시간

| 버전 | 데이터 | 거래일 | 실행 시간 | 비고 |
|---|---|---|---|---|
| **V1** | 306,105 rows (5분봉) | 250일 | **1.5초** | user 1.51s, wall 1.74s |
| **V2** | 1,491,631 rows (1분봉) | 240일 | **29.5초** | user 28.41s, wall 29.51s |
| **V3** | 1,491,631 rows (1분봉) | 240일 | **28.8초** | user 27.70s, wall 28.78s |

### 3-2. 최적화 효과 분석

```
변환 비용 (1회성):
  itertuples() 순회 1.49M rows → ~2초
  nested dict 구축 → ~1초
  합계: ~3초 (전체 실행의 ~10%)

봉 단위 접근 비용 (반복):
  Before: df[(df["date"]==d) & (df["timestamp"]==ts)] → O(1.49M) per bar
  After:  ts_prices[d].get(ts, {})                    → O(1) per bar

  240일 × ~390봉 = 93,600회 접근
  → 93,600 × O(1.49M) → 93,600 × O(1)
```

| 연산 | Before (추정) | After (실측) | 가속비 |
|---|---|---|---|
| V1 전체 | ~10초 | 1.5초 | **~7x** |
| V2 전체 | ~120초+ | 29.5초 | **~4x+** |
| V3 전체 | ~120초+ | 28.8초 | **~4x+** |

---

## 4. 백테스트 결과 종합 비교

### 4-1. 핵심 지표

| 지표 | V1 | V2 | V3 |
|---|---|---|---|
| **기간** | 2025-02-18 ~ 2026-02-13 | 2025-02-18 ~ 2026-01-30 | 2025-02-18 ~ 2026-01-30 |
| **거래일** | 250일 | 240일 | 240일 |
| **데이터** | 5분봉 (306K rows) | 1분봉 (1.49M rows) | 1분봉 (1.49M rows) |
| **초기 자금** | $1,000 (≈145만원) | 20,000,000원 | 20,000,000원 |
| **최종 자산** | $1,041.16 | 15,426,112원 | **18,524,821원** |
| **총 수익률** | **+4.12%** | **-22.87%** | **-7.38%** |
| **MDD** | -9.43% | -22.87% | **-10.13%** |
| **Sharpe Ratio** | 0.39 | -1.68 | **-0.92** |
| **총 매도** | 452회 | 3,662회 | 2,255회 |
| **승률** | 50.2% | 58.5% | 57.5% |
| **총 수수료** | (내포) | 11,035,519원 | **5,774,855원** |

### 4-2. V1 상세

| 항목 | 값 |
|---|---|
| 총 손익 | +$41.16 |
| GLD 스킵일 | 144일 / 250일 (57.6%) |
| 평균 수익 | +$3.50 |
| 평균 손실 | -$3.45 |

**시그널별 성과**:

| 시그널 | 횟수 | P&L | 승률 |
|---|---|---|---|
| eod_close (장마감 청산) | 240 | +$323.59 | 61.3% |
| twin_converge (쌍둥이 수렴) | 92 | +$320.08 | 87.0% |
| stop_loss (손절) | 120 | -$602.51 | 0.0% |

### 4-3. V2 상세

| 항목 | 값 |
|---|---|
| 총 손익 | -4,573,888원 |
| 환율 | 실시간 (평균 1,425원, 범위 1,349~1,486원) |
| 평균 수익 | +5,718원 |
| 평균 손실 | -11,078원 |
| 초기 진입 | 331회 |
| 물타기 | 592회 (최대 DCA 7단계) |
| DCA 총 투입 | 588,530,854원 |

**매도 사유별 성과**:

| 사유 | 횟수 | P&L | 평균 | 승률 |
|---|---|---|---|---|
| carry_sell | 20 | +1,824,057 | +91,203 | 100.0% |
| coin_profit | 16 | +1,894,512 | +118,407 | 100.0% |
| conl_profit | 30 | +1,774,935 | +59,165 | 100.0% |
| twin_converge | 159 | +1,599,579 | +10,060 | 57.2% |
| staged_sell | 3,233 | +346,224 | +107 | 60.3% |
| eod_close | 12 | -455,414 | -37,951 | 16.7% |
| conl_avg_drop | 15 | -1,475,986 | -98,399 | 6.7% |
| time_stop | 52 | -1,740,430 | -33,470 | 51.9% |
| **stop_loss** | **125** | **-8,341,365** | **-66,731** | **4.8%** |

**시그널별 성과**:

| 시그널 | 횟수 | P&L | 승률 |
|---|---|---|---|
| bearish | 9 | +96,289 | 66.7% |
| conditional_coin | 69 | -27,236 | 60.9% |
| conditional_conl | 1,116 | -1,295,449 | 36.9% |
| twin | 2,468 | -3,347,493 | 68.1% |

### 4-4. V3 상세

| 항목 | 값 |
|---|---|
| 총 손익 | -1,475,179원 |
| 환율 | 실시간 (평균 1,425원) |
| 평균 수익 | +5,333원 |
| 평균 손실 | -8,746원 |
| 초기 진입 | 220회 |
| 물타기 | 170회 (최대 DCA 4단계) |
| DCA 총 투입 | 170,000,000원 |
| 횡보장 감지일 | 15일 / 240일 |
| 시간제한 차단 | 26,906회 |
| 총 차단 매수 | 26,906회 |

**매도 사유별 성과**:

| 사유 | 횟수 | P&L | 평균 | 승률 |
|---|---|---|---|---|
| carry_sell | 15 | +1,011,165 | +67,411 | 100.0% |
| coin_profit | 13 | +1,252,229 | +96,325 | 100.0% |
| conl_profit | 24 | +828,981 | +34,541 | 100.0% |
| twin_converge | 100 | +495,218 | +4,952 | 53.0% |
| staged_sell | 1,981 | +114,854 | +58 | 58.7% |
| eod_close | 5 | -24,256 | -4,851 | 20.0% |
| conl_avg_drop | 10 | -692,848 | -69,285 | 20.0% |
| time_stop | 35 | -561,997 | -16,057 | 51.4% |
| **stop_loss** | **72** | **-3,898,525** | **-54,146** | **11.1%** |

**시그널별 성과**:

| 시그널 | 횟수 | P&L | 승률 |
|---|---|---|---|
| bearish | 9 | +96,289 | 66.7% |
| conditional_coin | 49 | +720,299 | 65.3% |
| conditional_conl | 799 | -896,961 | 37.7% |
| twin | 1,398 | -1,394,806 | 68.5% |

---

## 5. V3 vs V2 심층 비교

### 5-1. V3 선별 매매 파라미터 변경

| 파라미터 | V2 | V3 | 변경 효과 |
|---|---|---|---|
| ENTRY 갭 기준 | 1.5% | **2.2%** | 진입 기준 상향 → 불확실한 진입 차단 |
| DCA 최대 횟수 | 7회 | **4회** | 물타기 제한 → 수수료/손절 리스크 감소 |
| 종목당 최대 투입 | 10,000,000원 | **7,000,000원** | 집중 리스크 감소 |
| COIN/CONL 트리거 | 3.0% | **4.5%** | 높은 확신 시에만 진입 |
| 중복 쿨타임 | 5분 | **20분** | 과잉 매매 억제 |
| 진입 마감 | 없음 | **10:30 ET** | 장 후반 변동성 회피 |
| 일일 거래 제한 | 없음 | **1회/종목** | 과잉 매매 억제 |
| 횡보장 감지 | 없음 | **ON (3/5 지표)** | 무방향 장세에서 매매 차단 |

### 5-2. 핵심 개선 효과

```
V2 손실: -4,573,888원
V3 손실: -1,475,179원
─────────────────────
개선액:  +3,098,709원 (V2 대비 68% 손실 감소)
```

| 항목 | V2 | V3 | 변화 | 변화율 |
|---|---|---|---|---|
| **총 수익률** | -22.87% | -7.38% | **+15.49pp** | — |
| **MDD** | -22.87% | -10.13% | **+12.74pp** | -56% |
| **Sharpe** | -1.68 | -0.92 | **+0.76** | — |
| **총 수수료** | 11,035,519원 | 5,774,855원 | **-5,260,664원** | **-48%** |
| **매도 횟수** | 3,662 | 2,255 | -1,407 | -38% |
| **손절 횟수** | 125 | 72 | -53 | -42% |
| **손절 손실** | -8,341,365원 | -3,898,525원 | **+4,442,840원** | **-53%** |
| **DCA 투입** | 5.9억원 | 1.7억원 | -4.2억원 | **-71%** |
| **초기 진입** | 331회 | 220회 | -111 | -34% |
| **물타기** | 592회 | 170회 | -422 | **-71%** |

### 5-3. 매도 사유별 비교

| 사유 | V2 P&L | V3 P&L | 변화 |
|---|---|---|---|
| carry_sell | +1,824,057 | +1,011,165 | -812,892 (횟수 감소) |
| coin_profit | +1,894,512 | +1,252,229 | -642,283 (횟수 감소) |
| conl_profit | +1,774,935 | +828,981 | -945,954 (횟수 감소) |
| twin_converge | +1,599,579 | +495,218 | -1,104,361 (횟수 감소) |
| staged_sell | +346,224 | +114,854 | -231,370 |
| stop_loss | **-8,341,365** | **-3,898,525** | **+4,442,840** |
| time_stop | -1,740,430 | -561,997 | +1,178,433 |
| conl_avg_drop | -1,475,986 | -692,848 | +783,138 |
| eod_close | -455,414 | -24,256 | +431,158 |

**핵심**: V3는 수익 매도도 줄었지만, **손실 매도(손절/시간손절/EOD)가 훨씬 더 크게 줄었다**. 이것이 순 개선의 원천.

### 5-4. 시그널별 비교

| 시그널 | V2 P&L | V3 P&L | 변화 |
|---|---|---|---|
| bearish | +96,289 | +96,289 | ±0 (동일) |
| conditional_coin | -27,236 | **+720,299** | **+747,535** (트리거 상향 효과) |
| conditional_conl | -1,295,449 | -896,961 | +398,488 |
| twin | -3,347,493 | -1,394,806 | +1,952,687 |

**conditional_coin**이 V2에서 -2.7만원 → V3에서 +72만원으로 **흑자 전환**. COIN 트리거를 3.0% → 4.5%로 상향한 것이 가장 직접적인 효과.

### 5-5. 손실 원인 분해

```
V2 손실 구조:                          V3 손실 구조:
총 P&L: -4,573,888원                   총 P&L: -1,475,179원
├── 수수료:      -11,035,519원          ├── 수수료:      -5,774,855원
│   (초기자금의 55.2%)                  │   (초기자금의 28.9%)
├── 손절:         -8,341,365원          ├── 손절:         -3,898,525원
├── 시간손절:     -1,740,430원          ├── 시간손절:       -561,997원
├── CONL이탈:     -1,475,986원          ├── CONL이탈:       -692,848원
├── EOD강제:        -455,414원          ├── EOD강제:         -24,256원
└── 수익매도:     +7,438,807원          └── 수익매도:     +3,702,447원
    ├── carry:    +1,824,057원              ├── carry:    +1,011,165원
    ├── COIN:     +1,894,512원              ├── COIN:     +1,252,229원
    ├── CONL:     +1,774,935원              ├── CONL:       +828,981원
    ├── 수렴:     +1,599,579원              ├── 수렴:       +495,218원
    └── 분할:       +346,224원              └── 분할:       +114,854원
```

**V3 개선의 본질**:
- 수수료 절감: **-5,260,664원** (전체 개선의 53%)
- 손절 감소: **+4,442,840원** (전체 개선의 45%)
- 기타 손실 감소: **+2,392,629원**
- 수익 매도 감소: **-3,736,360원** (거래 빈도 감소의 부작용)
- 순 개선: **+3,098,709원**

---

## 6. V3 선별 매매 기능 상세 분석

### 6-1. 시간제한 차단 (10:30 ET 마감)

| 지표 | 값 |
|---|---|
| 차단된 매수 시도 | **26,906회** |
| 실제 매수 | 390회 |
| 차단율 | 98.6% |

장 후반(10:30 ET 이후)의 매수를 차단하여 **변동성 높은 시간대의 손실을 원천 봉쇄**. 240일간 26,906건의 불필요한 매수를 방지한 효과.

### 6-2. 횡보장 감지

| 지표 | 값 |
|---|---|
| 횡보장 감지일 | **15일** / 240일 (6.3%) |
| 횡보장 차단 매수 | 0회 |

횡보장 감지 자체는 작동했으나, 시간제한 차단이 이미 대부분의 불필요 매수를 걸러냈기 때문에 추가 차단 효과는 미미했다.

### 6-3. 일일 1회 제한

| 지표 | 값 |
|---|---|
| 일일1회 차단 | **0회** |

시간제한과 높은 진입 기준(2.2% 갭)이 이미 일일 거래를 충분히 제한하고 있어, 별도 차단이 발생하지 않았다.

---

## 7. 종합 발견 및 시사점

### 7-1. 최적화 효과

| 발견 | 상세 |
|---|---|
| **사전 인덱싱 효과** | V2/V3에서 ~4x 이상 속도 향상. 120초+ → 29초 |
| **추가 최적화 불필요** | Numba JIT 없이도 29초면 실용적 수준. 파라미터 탐색 시 ~30회 반복해도 ~15분 |
| **메모리 효율** | 1.49M rows의 dict 변환은 ~200MB 추가 사용. M1 맥북 기준 충분 |

### 7-2. 전략적 시사점

| 발견 | 상세 |
|---|---|
| **V3가 V2보다 확실히 우수** | 손실 68% 감소, MDD 56% 감소, 수수료 48% 절감 |
| **수수료가 핵심 적** | V2에서 수수료(1,103만원)가 총 손실(-457만원)의 2.4배. V3도 수수료(577만원)가 총 손실(-148만원)의 3.9배 |
| **시간제한이 가장 강력** | V3의 26,906회 차단 중 99.9%가 시간제한. 횡보장/일일제한은 부차적 |
| **COIN 트리거 상향이 핵심** | 3.0% → 4.5%로 변경만으로 COIN 시그널이 -2.7만원 → +72만원 흑자 전환 |
| **CONL은 여전히 문제** | V3에서도 conditional_conl이 -90만원 손실. 추가 조정 필요 |
| **손절이 아직도 최대 손실원** | V3에서 72회 -390만원. 2x 레버리지 ETF 특성상 구조적 한계 |

### 7-3. 추가 개선 방향

| 우선순위 | 제안 | 예상 효과 |
|---|---|---|
| **1 (즉시)** | CONL 트리거 추가 상향 (4.5% → 6.0%) | CONL 손실 -90만 → 흑자 전환 기대 |
| **2 (즉시)** | 시간제한 마감을 09:45 ET로 단축 | 장 초반 15분 추가 변동성 회피 |
| **3 (단기)** | 손절 라인 종목별 차등 (-5% for 안정종목) | 2x ETF 변동성 고려한 유연한 손절 |
| **4 (중기)** | 수수료 구조 변경 (해외 브로커 검토) | 매도 0.35% → 0.1% 시 수수료 70% 절감 |
| **5 (장기)** | Polymarket bullish 시에만 매매 제한 | 시장 환경 필터링 강화 |

---

## 8. 생성 파일 목록

| 파일 | 내용 | 크기 |
|---|---|---|
| `backtest_common.py` | 공통 라이브러리 (preindex 추가) | ~493행 |
| `backtest.py` | V1 엔진 (최적화 적용) | ~912행 |
| `backtest_v2.py` | V2 엔진 (최적화 적용) | ~1,115행 |
| `backtest_v3.py` | V3 엔진 (최적화 적용) | ~1,186행 |
| `data/backtest_trades.csv` | V1 거래 로그 | — |
| `data/backtest_v2_trades.csv` | V2 거래 로그 | — |
| `data/backtest_v3_trades.csv` | V3 거래 로그 | — |
| `charts/backtest_equity.png` | V1 자산 곡선 차트 | — |
| `docs/optimization_report.md` | 본 문서 | — |

---

## 부록 A. 파라미터 전체 비교

| 파라미터 | V1 | V2 | V3 |
|---|---|---|---|
| 데이터 | 5분봉 | 1분봉 | 1분봉 |
| 쌍둥이 페어 | 3개 (코인/은행/반도체) | 2개 (코인/은행) | 2개 (코인/은행) |
| ENTRY 갭 기준 | 1.5% | 1.5% | **2.2%** |
| 매도 갭 기준 | 0.3% | 0.9% | 0.9% |
| DCA 최대 | 없음 | 7회 | **4회** |
| DCA 금액 | — | 100만원 | 100만원 |
| 종목당 최대 투입 | — | 1,000만원 | **700만원** |
| 분할매도 | 없음 | 80%/30% | 80%/30% |
| 손절 (일반) | -3.0% | -3.0% | -3.0% |
| 손절 (강세장) | — | -8.0% | -8.0% |
| 시간 손절 | 없음 | 5시간 | 5시간 |
| COIN 트리거 | — | 3.0% | **4.5%** |
| CONL 트리거 | — | 3.0% | **4.5%** |
| 중복 쿨타임 | 5분 | 5분 | **20분** |
| 진입 마감 | 없음 | 없음 | **10:30 ET** |
| 일일 거래 제한 | 없음 | 없음 | **1회/종목** |
| 횡보장 감지 | 없음 | 없음 | **ON (3/5 지표)** |
| Polymarket | 미사용 | 사용 | 사용 |
| 환율 | USD 고정 | 실시간 시간별 | 실시간 시간별 |
| 하락장 방어 | HIMZ/BRKU/BABX | BRKU만 | BRKU만 |
