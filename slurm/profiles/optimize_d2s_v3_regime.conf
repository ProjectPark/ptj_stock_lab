# Profile: optimize_d2s_v3_regime
# D2S v3 레짐 감지 + 대규모 Optuna 최적화
# R19(BB 하드 필터) + R20/R21(레짐 조건부 TP/HD) + Polymarket BTC 레짐
# IS+OOS 동시 스코어 함수 (OOS 2배 가중 → 과적합 억제)
# 500 trials × 20 병렬 workers

SCRIPT=simulation/optimizers/optimize_d2s_v3_regime_optuna.py
SBATCH_TIME=16:00:00
SBATCH_CPUS=20
SBATCH_MEM=60G

CODE_FILES="\
  simulation/__init__.py \
  simulation/backtests/__init__.py \
  simulation/backtests/backtest_d2s.py \
  simulation/backtests/backtest_d2s_v2.py \
  simulation/backtests/backtest_d2s_v3.py \
  simulation/backtests/backtest_common.py \
  simulation/strategies/__init__.py \
  simulation/strategies/params.py \
  simulation/strategies/line_c_d2s/__init__.py \
  simulation/strategies/line_c_d2s/d2s_engine.py \
  simulation/strategies/line_c_d2s/params_d2s.py \
  simulation/optimizers/optimize_d2s_v3_regime_optuna.py \
"

RESULTS_PULL="\
  data/results/optimization/ \
  data/optuna/ \
"
