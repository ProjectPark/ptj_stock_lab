# PTJ ë§¤ë§¤ë²• v6 â€” Polymarket ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜ (todd_fuck_v1)

> ì‘ì„±ì¼: 2026-02-20 | ê¸°ë°˜: v5 ê·œì¹™ì„œ | í”„ë¡œì íŠ¸ëª…: todd_fuck_v1
> v6 í•µì‹¬ ë°©í–¥: **Polymarket ë°ì´í„° ì™„ì „ í™œìš© + ê¸‰ë½ ì²´ì œ ê´€ë¦¬ + í¬ì§€ì…˜ ì—°ì†í™” + ì¢…ëª© í™•ì¥**

---

## v5 ê·œì¹™ ê³„ìŠ¹ ìƒíƒœ

> v6ì€ v5ì˜ **ì¶”ê°€ ë ˆì´ì–´**ì´ë‹¤. ì•„ë˜ í…Œì´ë¸”ì— ëª…ì‹œë˜ì§€ ì•Šì€ v5 ê·œì¹™ì€ ëª¨ë‘ ìœ íš¨.

| v5 ê·œì¹™ | v6 ìƒíƒœ | ë¹„ê³  |
|---------|---------|------|
| btc_rsi_e ê¸°ë³¸ ì¡°ê±´ | **ìœ ì§€** + v6 ì¶”ê°€ ì¡°ê±´ | ì„¹ì…˜ 5.1 |
| ì„œí‚· ë¸Œë ˆì´ì»¤ CB-1~6 | ğŸ” **Optuna ê°€ì¤‘ì¹˜ íƒìƒ‰** | BearRegimeê³¼ ì—­í•  ì¤‘ë³µ ì—¬ë¶€ë¥¼ Optunaë¡œ íŒë³„ â†’ ê°€ì¤‘ì¹˜ 0ì´ë©´ íê¸°, >0ì´ë©´ ìœ ì§€. **CB ë°œë™ ì‹œ ì¸ë²„ìŠ¤ ETF(BITI/SOXS) ë§¤ìˆ˜ëŠ” "ì‹ ê·œ ë§¤ìˆ˜ ê¸ˆì§€" ëŒ€ìƒì—ì„œ ì œì™¸** (ì¸ë²„ìŠ¤ëŠ” í•˜ë½ ëŒ€ì‘ ìˆ˜ë‹¨) |
| Emergency Mode (Â±30pp) | **ìœ ì§€** + Â±15pp ì†Œí”„íŠ¸ ê²½ë³´ ì¶”ê°€ | ì„¹ì…˜ 1.1 Layer 3 |
| í•˜ë½ì¥ ëª¨ë“œ (Poly 3ì¢… â‰¤20%) | ğŸ” **Optuna ê°€ì¤‘ì¹˜ íƒìƒ‰** | BearRegimeê³¼ ìë³¸ ë°°ë¶„ ì¶©ëŒ â†’ Optunaë¡œ ìµœì  ì¡°í•© ê²°ì • |
| ì†ì ˆ (ë ˆë²„ë¦¬ì§€ë³„ SL) | **ìœ ì§€** | |
| íš¡ë³´ì¥ ê°ì§€ | **ìœ ì§€** | |
| ìê¸ˆ ë°°ë¶„ (8-4ì ˆ) | **ìœ ì§€** | |
| ë§ˆìŠ¤í„° í”Œëœ M0~M40 | **ìœ ì§€** (ì „ëµ ë…¸íŠ¸ ê¸°ë°˜) | |

> ğŸ” Optuna íƒìƒ‰ ê³„íš:
> - **íƒìƒ‰ ëŒ€ìƒ**: CB-1~6 ê°œë³„ ON/OFF ê°€ì¤‘ì¹˜ (0.0~1.0), í•˜ë½ì¥ ëª¨ë“œ vs BearRegime ìë³¸ ë°°ë¶„ ë¹„ìœ¨
> - **ëª©ì  í•¨ìˆ˜**: OOS êµ¬ê°„ (2026-01~02) Sharpe Ratio + MDD ì œí•œ
> - **íŒŒì¼**: `simulation/optimizers/optimize_v6_regime.py` (ì‹ ì„¤ ì˜ˆì •)
>
> **íŒŒë¼ë¯¸í„° ì°¸ì¡° ì •ì±…**: ë¬¸ì„œì˜ ì´ˆê¸°ê°’ì€ ì„¤ê³„ ê¸°ì¤€(design baseline)ì´ë©°, ì‹¤ì œ ìš´ìš©ê°’ì€ `simulation/strategies/taejun_attach_pattern/params.py`ë¥¼ ì°¸ì¡°í•œë‹¤. Optuna ìµœì í™” í›„ params.pyê°€ ìš°ì„ .

---

## v5 â†’ v6 ë³€ê²½ ìš”ì•½

| í•­ëª© | v5 | v6 | íš¨ê³¼ |
|---|---|---|---|
| Polymarket í™œìš© | btc_up/ndx_up ì´ì§„ ê²Œì´íŠ¸ë§Œ ì‚¬ìš© | **7ê°œ í•„ë“œ ì¶”ê°€** (upside_pressure, weekly/monthly reach/dip, fed_score) | ì‹œì¥ ì••ë ¥ ì •ëŸ‰í™” |
| ê¸‰ë½ ëŒ€ì‘ | Emergency Mode (Â±30pp ë‹¨ë°œ) | **BearRegime ì²´ì œ ê´€ë¦¬** (ì ˆëŒ€ê°’ ê¸°ë°˜ ì§€ì† ì²´ì œ) | ê¸‰ë½ì¥ ìˆ˜ìµí™” |
| í¬ì§€ì…˜ í¬ê¸° | ì´ì§„ ON/OFF | **btc_up ì—°ì† ìŠ¤ì¼€ì¼ë§** (4êµ¬ê°„ unit_mul) | í™•ë¥  ê¸°ë°˜ ìë³¸ ë°°ë¶„ |
| ì¸ë²„ìŠ¤ ETF | SOXSë§Œ (Emergency) | **BITI + SOXS** (ì²´ì œ ê¸°ë°˜ ì§€ì† í¬ì§€ì…˜) | ê¸‰ë½ì¥ ì§ì ‘ ìˆ˜ìµ |
| ì¢…ëª© Universe | IREN/CONL/PTIR (3ì¢…ëª©) | **IREN/CONL/PTIR + MSTU/BITU/ROBN + BITI/SOXS** (8ì¢…ëª©) | ê±°ë˜ ê¸°íšŒ í™•ëŒ€ |
| BearRegime ì†Œí”„íŠ¸ ê²½ë³´ | ì—†ìŒ | **Â±15pp ì†Œí”„íŠ¸ ê²½ë³´** (ê¸°ì¡´ Â±30pp ì•ë‹¨) | ì¡°ê¸° ê°ì§€ |

---

## 1. Polymarket ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜

### 1.1 5ê°œ ë ˆì´ì–´ êµ¬ì¡°

```
Layer 0 (ì›”ê°„ ë§¤í¬ë¡œ)
  btc_monthly_dip / btc_monthly_reach
  â†’ ì´ë‹¬ BTC ê·¹ê°’ ë„ë‹¬ í™•ë¥  â†’ ì›”ê°„ ì²´ì œ íŒì •

Layer 1 (ì£¼ê°„ íƒ€ì´ë°)
  btc_weekly_dip / btc_weekly_reach
  â†’ ì´ë²ˆ ì£¼ ë°©í–¥ì„± ì¡°ì • (ì§„ì… OK / ìŠ¤í‚µ / ì¸ë²„ìŠ¤ ì¤€ë¹„)

Layer 2 (ì¼ê°„ ê²Œì´íŠ¸)
  btc_up / ndx_up / btc_upside_pressure / fed_score
  â†’ ë‹¹ì¼ ì§„ì… í—ˆìš©/ì°¨ë‹¨ + í¬ì§€ì…˜ í¬ê¸° ê²°ì •

Layer 3 (ì¦‰ê° ì´ë²¤íŠ¸)
  Polymarket ìŠ¤ìœ™ ê°ì§€
  â†’ Â±15pp ì†Œí”„íŠ¸ ê²½ë³´ / Â±30pp Emergency Mode (ê¸°ì¡´ ìœ ì§€)

  ì†Œí”„íŠ¸ ê²½ë³´ í–‰ë™ ê·œì¹™:
    +15pp ì´ìƒ ê¸‰ë“± â†’ ë¡± í¬ì§€ì…˜ ë¹„ì¤‘ ì ê²€, soft_alert_factor = 0.8 ì ìš©
    -15pp ì´ìƒ ê¸‰ë½ â†’ ì¸ë²„ìŠ¤ ì›Œì¹˜ë¦¬ìŠ¤íŠ¸ ë“±ë¡, BearRegime ì§„ì… ëª¨ë‹ˆí„°ë§ ê°•í™”

  ì¤‘ì²© ì ìš© ê·œì¹™:
    regime_factorì™€ soft_alert_factorê°€ ë™ì‹œ ë°œë™ ì‹œ
    â†’ min(regime_factor, soft_alert_factor) ì ìš© (ë” ë³´ìˆ˜ì ì¸ ìª½ë§Œ)
    ì˜ˆ: WARN(0.8) + ì†Œí”„íŠ¸ ê²½ë³´(0.8) â†’ 0.8 (ì¤‘ë³µ ì•„ë‹˜)
    ì˜ˆ: BEAR(0.5) + ì†Œí”„íŠ¸ ê²½ë³´(0.8) â†’ 0.5 (BEARê°€ ë” ë³´ìˆ˜ì )

Layer 4 (ê¸°ìˆ ì  ì‹ í˜¸)
  BTC RSI / DI+- / ê±°ë˜ëŸ‰ (ê¸°ì¡´ ì „ëµ ìœ ì§€)
  â†’ ìµœì¢… ì§„ì… íŒë‹¨
```

### 1.2 ì‹ ê·œ Polymarket í•„ë“œ ì •ì˜

| í•„ë“œëª… | ì¶œì²˜ | ê³„ì‚° ë°©ë²• | ê°’ ë²”ìœ„ | ì˜ë¯¸ |
|--------|------|---------|--------|------|
| `btc_upside_pressure` | btc_above_today | ëª¨ë“  ê°€ê²©ë ˆë²¨ Yes í™•ë¥  í‰ê·  | 0~1 | ë†’ì„ìˆ˜ë¡ ìƒë°© ê¸°ëŒ€ |
| `btc_weekly_reach` | btc_weekly | reach ë§ˆì¼“ ìµœëŒ€ í™•ë¥  | 0~1 | ì´ë²ˆ ì£¼ ê³ ì  ë„ë‹¬ ê¸°ëŒ€ |
| `btc_weekly_dip` | btc_weekly | dip ë§ˆì¼“ ìµœëŒ€ í™•ë¥  | 0~1 | ì´ë²ˆ ì£¼ ì €ì  ë„ë‹¬ ìš°ë ¤ |
| `btc_monthly_reach` | btc_monthly | reach ë§ˆì¼“ ìµœëŒ€ í™•ë¥  | 0~1 | ì´ë‹¬ ê³ ì  ë„ë‹¬ ê¸°ëŒ€ |
| `btc_monthly_dip` | btc_monthly | dip ë§ˆì¼“ ìµœëŒ€ í™•ë¥  | 0~1 | ì´ë‹¬ ì €ì  ë„ë‹¬ ìš°ë ¤ |
| `fed_score` | fed_decision | cut_25Ã—2 + cut_50Ã—3 âˆ’ hikeÃ—2 | âˆ’2~+5 | ì–‘ìˆ˜=ì™„í™”ì  |

---

## 2. ê¸‰ë½ ì²´ì œ ê´€ë¦¬ (Bear Regime)

### 2.1 ì²´ì œ ì •ì˜

> ìœ„â†’ì•„ë˜ ìˆœì„œë¡œ íŒì •. ë¨¼ì € ë§¤ì¹­ë˜ëŠ” ì²´ì œë¥¼ ì ìš©í•œë‹¤.

| ìš°ì„ ìˆœìœ„ | ì²´ì œ | ì¡°ê±´ | ë ˆì´ë¸” |
|---------|------|------|--------|
| 1 | ê°•í•œ ì•½ì„¸ | regime_score >= ğŸ”`STRONG_BEAR_THRESH` | STRONG_BEAR |
| 2 | ê²½ë³´ | regime_score >= ğŸ”`WARN_THRESH` (STRONG_BEAR ì•„ë‹Œ ê²½ìš°) | WARN |
| 3 | ì•½ì„¸ | is_bear_regime = True (ìœ„ í•´ë‹¹ ì—†ì„ ë•Œ) | BEAR |
| 4 | ì •ìƒ | ë‚˜ë¨¸ì§€ | NORMAL |

> ğŸ” Optuna íƒìƒ‰:
> - `STRONG_BEAR_THRESH`: íƒìƒ‰ ë²”ìœ„ [0.45, 0.70], ì´ˆê¸°ê°’ 0.55
> - `WARN_THRESH`: íƒìƒ‰ ë²”ìœ„ [0.30, 0.55], ì´ˆê¸°ê°’ 0.40
> - ì œì•½: WARN_THRESH < STRONG_BEAR_THRESH

### 2.2 ì²´ì œ ì§„ì…/í•´ì œ ì¡°ê±´ (íˆìŠ¤í…Œë¦¬ì‹œìŠ¤)

```
ON ì¡°ê±´ (AND):
  btc_up < ğŸ”BEAR_ON_BTC_UP          â† ì‹œì¥ ì»¨ì„¼ì„œìŠ¤ ë¹„ê´€
  btc_monthly_dip > ğŸ”BEAR_ON_DIP    â† ì´ë‹¬ ì €ì  ë„ë‹¬ í™•ë¥  ë†’ìŒ

OFF ì¡°ê±´:
  btc_up >= ğŸ”BEAR_OFF_BTC_UP        â† ì»¨ì„¼ì„œìŠ¤ íšŒë³µ

íˆìŠ¤í…Œë¦¬ì‹œìŠ¤ êµ¬ê°„ (BEAR_ON_BTC_UP â‰¤ btc_up < BEAR_OFF_BTC_UP):
  â†’ ì´ì „ ì²´ì œ ìƒíƒœ ìœ ì§€ (ONì´ì—ˆìœ¼ë©´ ON, OFFì˜€ìœ¼ë©´ OFF)
```

> ğŸ” Optuna íƒìƒ‰:
> - `BEAR_ON_BTC_UP`: íƒìƒ‰ ë²”ìœ„ [0.30, 0.45], ì´ˆê¸°ê°’ 0.38
> - `BEAR_ON_DIP`: íƒìƒ‰ ë²”ìœ„ [0.20, 0.45], ì´ˆê¸°ê°’ 0.30
> - `BEAR_OFF_BTC_UP`: íƒìƒ‰ ë²”ìœ„ [0.45, 0.60], ì´ˆê¸°ê°’ 0.50
> - ì œì•½: BEAR_ON_BTC_UP < BEAR_OFF_BTC_UP (íˆìŠ¤í…Œë¦¬ì‹œìŠ¤ í­ ìµœì†Œ 0.08)
> - ì œì•½: BEAR_ON_BTC_UP < btc_up_thresholds[0] (= 0.45, ë©´ì œ ê·œì¹™ ì •í•©ì„± ë³´ì¥)

### 2.3 ì²´ì œë³„ í–‰ë™ ê·œì¹™

| ìƒíƒœ | ë¡± ì „ëµ | ì¸ë²„ìŠ¤ ETF | ë¹„ê³  |
|------|---------|---------|------|
| NORMAL | unit_mul Ã— 1.0 (ê¸°ë³¸) | ê¸ˆì§€ | ì •ìƒ ìš´ìš© |
| WARN | unit_mul Ã— 0.8 | ì›Œì¹˜ë¦¬ìŠ¤íŠ¸ ë“±ë¡, ì£¼ë¬¸ ë¯¸ì œì¶œ | í¬ì§€ì…˜ ì¶•ì†Œ ì‹œì‘ |
| BEAR | unit_mul Ã— 0.5 | ì”ì—¬ í˜„ê¸ˆì˜ 30% ì¸ë²„ìŠ¤ ì§„ì… | ë ˆë²„ë¦¬ì§€ ì ˆë°˜ ì¶•ì†Œ |
| STRONG_BEAR | unit_mul Ã— 0.3 | **ì”ì—¬ í˜„ê¸ˆì˜ 80% ì¸ë²„ìŠ¤ ì§„ì…** | ì¸ë²„ìŠ¤ ì§‘ì¤‘ |

### 2.4 ì¸ë²„ìŠ¤ ETF ì§„ì… ì¡°ê±´

> BITI(1ìˆœìœ„)ì™€ SOXS(2ìˆœìœ„) ì¡°ê±´ ë™ì‹œ ì¶©ì¡± ì‹œ â†’ **1ìˆœìœ„(BITI)ë§Œ ì§„ì…**. BITI ì¡°ê±´ ë¶ˆì¶©ì¡± ì‹œì—ë§Œ SOXS íŒë‹¨.

| ì¡°ê±´ | ì§„ì… ì¢…ëª© | ìš°ì„ ìˆœìœ„ |
|------|---------|---------|
| btc_up < 0.35 AND is_bear_regime | BITI | 1ìˆœìœ„ (ë‹¨ë… ì§„ì…) |
| ndx_up < 0.38 AND is_bear_regime (BITI ë¯¸ì§„ì… ì‹œ) | SOXS | 2ìˆœìœ„ |

### 2.5 ì¸ë²„ìŠ¤ ETF ì²­ì‚° ì¡°ê±´

| ìš°ì„ ìˆœìœ„ | ì¡°ê±´ | í–‰ë™ |
|---------|------|------|
| 1 | BearRegime OFF (btc_up >= `BEAR_OFF_BTC_UP`) | ì „ì•¡ ë§¤ë„ (ì²´ì œ í•´ì œ ì¦‰ì‹œ) |
| 2 | ëª©í‘œìˆ˜ìµë¥  ë‹¬ì„±: +ğŸ”`INV_TARGET_PCT`% (net) | ì „ì•¡ ë§¤ë„ |
| 3 | ì†ì ˆ: -ğŸ”`INV_STOP_LOSS_PCT`% | ì „ì•¡ ë§¤ë„ |
| 4 | ë³´ìœ  ê¸°í•œ: ğŸ”`INV_MAX_HOLD_DAYS`ì¼ ì´ˆê³¼ | ì „ì•¡ ë§¤ë„ |

> ğŸ” Optuna íƒìƒ‰:
> - `INV_TARGET_PCT`: íƒìƒ‰ ë²”ìœ„ [3.0, 15.0], ì´ˆê¸°ê°’ 8.0
> - `INV_STOP_LOSS_PCT`: íƒìƒ‰ ë²”ìœ„ [3.0, 10.0], ì´ˆê¸°ê°’ 5.0
> - `INV_MAX_HOLD_DAYS`: íƒìƒ‰ ë²”ìœ„ [10, 60], ì´ˆê¸°ê°’ 30
> - ì œì•½: INV_TARGET_PCT > INV_STOP_LOSS_PCT (ëª©í‘œìˆ˜ìµ > ì†ì ˆí­)

#### BearRegime ì§„ì… ì „ ë³´ìœ  ì¤‘ì¸ ë¡± í¬ì§€ì…˜ ì²˜ë¦¬

| ì²´ì œ | ê¸°ì¡´ ë¡± í¬ì§€ì…˜ ì²˜ë¦¬ |
|------|-------------------|
| BEAR | ì‹ ê·œ ë¡± ì§„ì…ë§Œ ì°¨ë‹¨, ê¸°ì¡´ í¬ì§€ì…˜ ìœ ì§€ |
| STRONG_BEAR | ê¸°ì¡´ ë¡± ì¤‘ ì¸ë²„ìŠ¤ì™€ ê°™ì€ ì„¹í„° **50% ì¶•ì†Œ** (ì•„ë˜ ë§¤í•‘ ì°¸ì¡°) |

**ì¸ë²„ìŠ¤ â†” ë¡± ì„¹í„° ë§¤í•‘** (STRONG_BEAR ì¶•ì†Œ ëŒ€ìƒ):

| ì¸ë²„ìŠ¤ | ê°™ì€ ì„¹í„° ë¡± (50% ì¶•ì†Œ ëŒ€ìƒ) |
|--------|---------------------------|
| BITI | IREN, MSTU, BITU, CONL, ROBN |
| SOXS | SOXL |

---

### 2.6 ì²´ì œ ì ìˆ˜ ê³„ì‚°ì‹

```
regime_score = (btc_up_score Ã— 0.5) + (dip_score Ã— 0.3) + (pressure_score Ã— 0.2)

btc_up_score      = max(0, (0.5 - btc_up) / 0.5)
dip_score         = btc_monthly_dip
pressure_score    = max(0, (0.5 - btc_upside_pressure) / 0.5)
```

---

## 3. í¬ì§€ì…˜ í¬ê¸° ì—°ì†í™”

### 3.1 btc_up ê¸°ë°˜ unit_mul ìŠ¤ì¼€ì¼ë§

ê¸°ì¡´ ì´ì§„ ê²Œì´íŠ¸(ON/OFF) â†’ btc_up í™•ë¥  êµ¬ê°„ë³„ ì—°ì† ì¡°ì •

| btc_up êµ¬ê°„ | ë°°ìœ¨ (factor) | ì‹¤ì œ unit_mul (ê¸°ë³¸ 3.0x ê°€ì •) | ì„¤ëª… |
|------------|-------------|--------------------------|------|
| BearRegime OFF AND btc_up < 0.45 | 0.0 (ì°¨ë‹¨) | 0 | ë¡± ì§„ì… ê¸ˆì§€ |
| **BearRegime ON** (btc_up ìˆ˜ì¹˜ ë¬´ê´€) | **1.0 (ë©´ì œ)** | regime_factorë§Œ ì ìš© | BearRegime ì¶•ì†Œ ìš´ìš© í—ˆìš© |
| 0.45 â‰¤ btc_up < 0.55 | 0.7x | 2.1 | ë¶ˆí™•ì‹¤ â†’ ì¶•ì†Œ |
| 0.55 â‰¤ btc_up â‰¤ 0.70 | 1.0x | 3.0 | ê¸°ë³¸ |
| > 0.70 | 1.5x | 4.5 | ê°•í•œ ìƒìŠ¹ ê¸°ëŒ€ â†’ í™•ëŒ€ |

> **BearRegime ë©´ì œ ê·œì¹™**: BearRegimeì´ ONì´ë©´ btc_up ìˆ˜ì¹˜ì— ê´€ê³„ì—†ì´ scale_factor ì°¨ë‹¨ì„ ë©´ì œí•˜ê³ , regime_factor(BEAR=0.5, STRONG_BEAR=0.3)ë§Œ ì ìš©í•œë‹¤. ì´ë¥¼ í†µí•´ BEAR/STRONG_BEAR ì²´ì œì—ì„œ ì¶•ì†Œ ë¡± ìš´ìš©ì´ ê°€ëŠ¥í•´ì§„ë‹¤.

### 3.2 Bear Regime Ã— í¬ì§€ì…˜ ìŠ¤ì¼€ì¼ í†µí•©

```
ìµœì¢… unit_mul = base_mul
  Ã— scale_factor(btc_up)     # Layer 2: í™•ë¥  ê¸°ë°˜ ìŠ¤ì¼€ì¼
  Ã— regime_factor             # Bear Regime: ì²´ì œ ê¸°ë°˜ ì¶•ì†Œ

ì˜ˆì‹œ:
  base_mul=3.0, btc_up=0.60 â†’ scale=1.0, regime=ì •ìƒ(1.0)        â†’ 3.0
  base_mul=3.0, btc_up=0.75 â†’ scale=1.5, regime=ì •ìƒ(1.0)        â†’ 4.5
  base_mul=3.0, btc_up=0.35 â†’ scale=1.0(BearRegime ë©´ì œ), regime=BEAR(0.5)  â†’ 1.5
  base_mul=3.0, btc_up=0.35 â†’ scale=1.0(BearRegime ë©´ì œ), regime=STRONG_BEAR(0.3) â†’ 0.9
  base_mul=3.0, btc_up=0.42, BearRegime OFF â†’ scale=0.0          â†’ 0.0 (ì°¨ë‹¨)
  base_mul=3.0, btc_up=0.48 â†’ scale=0.7, regime=ì •ìƒ(1.0)        â†’ 2.1
```

---

## 4. ì¢…ëª© Universe í™•ì¥

### 4.1 ì „ëµë³„ ì¢…ëª© ì„¸íŠ¸

| ì¹´í…Œê³ ë¦¬ | ì¢…ëª© | ì „ëµ | ì¶”ê°€ ê·¼ê±° |
|---------|------|------|---------|
| BTC ê³ ë² íƒ€ ë¡± | IREN, MSTU, BITU | btc_rsi_e, btc_up ì—°ë™ | BTC ìƒê´€ë„ ìµœê³  |
| í¬ë¦½í†  ì¸í”„ë¼ ë¡± | CONL, ROBN | btc_rsi_e, macd_vol | D2Sì—”ì§„ ê²€ì¦ ì™„ë£Œ |
| AI/íŒ”ë€í‹°ì–´ ë¡± | PTIR | btc_rsi_e | ë…ë¦½ AI ì‚¬ì´í´ |
| NDX/ë°˜ë„ì²´ ë¡± | NVDL | fed_score ì—°ë™ | fed_score > 1.0 + ndx_up < 0.45 ì—­ë°œìƒ ì§„ì… |
| BTC ì¸ë²„ìŠ¤ | BITI | BearRegimeLong | btc_up < 35% |
| NDX ì¸ë²„ìŠ¤ | SOXS | BearRegimeLong | ndx_up < 38% |

### 4.2 ì‹ í˜¸ë³„ ì í•© ì¢…ëª©

| ì‹ í˜¸ ì „ëµ | ê¸°ì¡´ | ì¶”ê°€ | ìš°ì„ ìˆœìœ„ |
|---------|------|------|---------|
| btc_rsi_e (í•µì‹¬) | IREN, CONL, PTIR | MSTU, BITU, ROBN | MSTU, BITU 1ìˆœìœ„ |
| macd_vol (ë³´ì¡°) | IREN, CONL, PTIR | ROBN | ROBN 2ìˆœìœ„ |
| BearRegimeLong (ì‹ ê·œ) | - | BITI, SOXS | ì²´ì œ ON ì‹œ |

---

## 5. Polymarket Ã— ê¸°ì¡´ ì „ëµ ì—°ë™ ê°•í™”

### 5.1 btc_rsi_e ì „ëµ ê°•í™” (ë³´ìˆ˜ì  íŒŒë¼ë¯¸í„° ê¸°ì¤€)

```
ê¸°ì¡´ ì¡°ê±´:
  BTC RSI14 < 64.6
  DI+ - DI- >= 7.8
  ë‹¹ì¼ ìƒìŠ¹ë¥  >= 5.96%
  pct_MA20 >= 12.76%
  ê±°ë˜ëŸ‰ë¹„ìœ¨ >= 1.42x
  VIX: 12.4 ~ 34.7

v6 ì¶”ê°€ ì¡°ê±´:
  btc_upside_pressure > 0.50    â† ìƒë°© ì••ë ¥ í™•ì¸
  btc_weekly_dip < 0.25         â† ì´ë²ˆ ì£¼ í•˜ë½ ì••ë ¥ ë‚®ìŒ
  unit_mul: scale_unit_mul_by_poly(base, btc_up) ì ìš©
```

### 5.2 ì£¼ê°„ íƒ€ì´ë° ê·œì¹™ (btc_weekly í™œìš©)

> ìœ„â†’ì•„ë˜ ìš°ì„ ìˆœìœ„. dip(ìœ„í—˜)ì„ reach(ê¸°íšŒ)ë³´ë‹¤ ìš°ì„ í•œë‹¤.

| ìš°ì„ ìˆœìœ„ | ì¡°ê±´ | í–‰ë™ |
|---------|------|------|
| 1 | btc_weekly_dip > 0.40 | ì´ë²ˆ ì£¼ ì§„ì… ìŠ¤í‚µ, ì¸ë²„ìŠ¤ ì¤€ë¹„ |
| 2 | btc_weekly_reach > 0.60 (dip â‰¤ 0.40ì¼ ë•Œë§Œ) | ì´ë²ˆ ì£¼ ì ê·¹ ì§„ì… (unit_mul Ã— 1.2) |
| 3 | btc_weekly_reach < 0.20 AND dip > 0.30 | regime_scoreì— **+0.10 ë³´ì •** ì ìš© (ì²´ì œ ì§„ì… ë¯¼ê°ë„ ìƒí–¥) |

### 5.3 fed_score Ã— NVDL ì—°ë™

> NVDLì€ v6 Universeì— í¬í•¨ (ì„¹ì…˜ 4.1 ì°¸ì¡°). fed_score ê¸°ë°˜ ì—­ë°œìƒ ì§„ì… ì „ìš©.

| ì¡°ê±´ | í–‰ë™ | ì´ìœ  |
|------|------|------|
| fed_score > 1.0 AND ndx_up < 0.45 | NVDL ì—­ë°œìƒ ì§„ì… | ì™„í™” ê¸°ëŒ€ + ê³¼ë§¤ë„ |
| fed_score < -0.5 | ë°˜ë„ì²´ ì§„ì… ì–µì œ | ê¸´ì¶• = ê¸°ìˆ ì£¼ ë¦¬ìŠ¤í¬ |

> **NVDL ê³µì¡´ ê·œì¹™**: NVDLì€ ì €ê°€ë§¤ìˆ˜(bargain_buy, ì„¹ì…˜ 4.1)ì™€ fed_score ì—­ë°œìƒ(5.3)ì´ **ë…ë¦½ ì „ëµ**ìœ¼ë¡œ ê³µì¡´í•œë‹¤. ë™ì¼ ì¢…ëª©ì— ë‘ ì „ëµì´ ë™ì‹œ ì§„ì… ê°€ëŠ¥í•˜ë©°, ê°ê°ì˜ ì²­ì‚° ê·œì¹™ì„ ë”°ë¥¸ë‹¤.

---

## 6. ì½”ë“œ êµ¬í˜„ í˜„í™©

| í•­ëª© | íŒŒì¼ | ìƒíƒœ |
|------|------|------|
| ì‹ ê·œ Polymarket í•„ë“œ ì¶”ì¶œ | `simulation/backtests/backtest_common.py` | âœ… ì™„ë£Œ |
| Bear Regime íŒŒë¼ë¯¸í„° | `simulation/strategies/taejun_attach_pattern/params.py` | âœ… ì™„ë£Œ |
| Polymarket í¬ì§€ì…˜ ìŠ¤ì¼€ì¼ íŒŒë¼ë¯¸í„° | `simulation/strategies/taejun_attach_pattern/params.py` | âœ… ì™„ë£Œ |
| BearRegimeDetector í´ë˜ìŠ¤ | `simulation/strategies/taejun_attach_pattern/bear_regime.py` | âœ… ì™„ë£Œ |
| scale_unit_mul_by_poly í•¨ìˆ˜ | `simulation/strategies/taejun_attach_pattern/bear_regime.py` | âœ… ì™„ë£Œ |
| BearRegimeLong ì „ëµ | `simulation/strategies/taejun_attach_pattern/bear_regime.py` | âœ… ì™„ë£Œ |
| íŒ¨í‚¤ì§€ ë“±ë¡ | `simulation/strategies/taejun_attach_pattern/__init__.py` | âœ… ì™„ë£Œ |
| btc_rsi_e ì „ëµì— v6 ì¡°ê±´ ì ìš© | experiments/ | ğŸ”² ë°±í…ŒìŠ¤íŠ¸ ì‹¤í—˜ í•„ìš” |
| MSTU/BITU/ROBN ë°±í…ŒìŠ¤íŠ¸ | experiments/ | ğŸ”² ì‹¤í—˜ í•„ìš” |
| OOS ì¬ê²€ì¦ (2026-01~02) | experiments/ | ğŸ”² ì‹¤í—˜ í•„ìš” |

---

## 7. ë‹¤ìŒ ë‹¨ê³„ (ì‹¤í—˜ ê³„íš)

### Phase A: BearRegime OOS ì†Œê¸‰ ê²€ì¦
```
ëŒ€ìƒ: 2026-01-01 ~ 2026-02-19 (OOS êµ¬ê°„)
ì‹¤í—˜: BearRegimeDetectorê°€ 1ì›” ê³ ì ì„ ì²´ì œë¡œ ê°ì§€í–ˆëŠ”ê°€?
  - 1/13~1/16 ê³ ì : btc_upì´ ì–¼ë§ˆì˜€ëŠ”ê°€?
  - ê°ì§€ íƒ€ì´ë°: ì‹¤ì œ ê³ ì  ëŒ€ë¹„ ëª‡ì¼ í›„?
  - BITI ì§„ì… ì‹œ ìˆ˜ìµ: +29% (CONL -29% ì—­ë°©í–¥)
íŒŒì¼: experiments/bear_regime_oos_backtest.py
```

### Phase B: MSTU/BITU/ROBN ì¶”ê°€ ë°±í…ŒìŠ¤íŠ¸
```
ê¸°ì¡´ btc_rsi_e ë³´ìˆ˜ì  íŒŒë¼ë¯¸í„° + 3ì¢…ëª© ì¶”ê°€
ëŒ€ìƒ: 2023-09-01 ~ 2025-12-31 (Train)
ê¸°ëŒ€: ì—°ê°„ ê±°ë˜ ìˆ˜ 10íšŒ â†’ 20~25íšŒ
íŒŒì¼: experiments/expanded_universe_backtest.py
```

### Phase C: Polymarket í¬ì§€ì…˜ ìŠ¤ì¼€ì¼ íš¨ê³¼ ê²€ì¦
```
ê¸°ì¡´ btc_rsi_e vs scale_unit_mul_by_poly ì ìš© ë²„ì „ ë¹„êµ
Train WR, PnL, MDD ë¹„êµ
íŒŒì¼: experiments/poly_position_scale_backtest.py
```

---

## 8. í•µì‹¬ ë°œê²¬ ìš”ì•½ (v5 ê³„ìŠ¹ + v6 ì‹ ê·œ)

| êµ¬ë¶„ | ë°œê²¬ | ì¶œì²˜ |
|------|------|------|
| v5 ê³„ìŠ¹ | BTC RSI < 65 êµ¬ê°„ > 75ë³´ë‹¤ ìˆ˜ìµë¥  ìš°ìœ„ | J ì‹¤í—˜, Optuna |
| v5 ê³„ìŠ¹ | btc_above_ma20=Falseê°€ ì„±ëŠ¥ í–¥ìƒ | Optuna |
| v5 ê³„ìŠ¹ | VIX ê·¹ë‹¨ (< 12 or > 35) íšŒí”¼ | Optuna |
| v5 ê³„ìŠ¹ | ê°•í•œ ê¸‰ë“± í•„í„° (ë‹¹ì¼ 6%+) WR ìœ ì§€ | btc_rsi_e ë³´ìˆ˜ì  |
| **v6 ì‹ ê·œ** | btc_up ì ˆëŒ€ê°’ ê¸°ë°˜ ì²´ì œ ê´€ë¦¬ > ìŠ¤ìœ™ ë‹¨ë°œ ëŒ€ì‘ | OOS ë¶„ì„ |
| **v6 ì‹ ê·œ** | btc_monthly_dipì´ ê¸‰ë½ ì„ í–‰ ì§€í‘œ | ì„¤ê³„ |
| **v6 ì‹ ê·œ** | í¬ì§€ì…˜ ì—°ì†í™”ë¡œ ê³¼ì—´ ì‹œ ìë™ ì¶•ì†Œ | ì„¤ê³„ |
| **v6 ì‹ ê·œ** | MSTU/BITU: BTC ìƒê´€ë„ > IREN â†’ ë™ì¼ ì‹ í˜¸ ë” ê°•í•œ ìˆ˜ìµ | ì˜ˆì¸¡ |

---

*êµ¬í˜„: todd_fuck_v1 í”„ë¡œì íŠ¸*
*íŒŒì¼: simulation/strategies/taejun_attach_pattern/bear_regime.py*
*ë°ì´í„°: simulation/backtests/backtest_common.py (load_polymarket_daily í™•ì¥)*
